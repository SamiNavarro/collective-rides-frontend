"use strict";
/**
 * Club Authorization Types - Phase 2.2
 *
 * Type definitions for club-level authorization, capabilities, and role-based access control.
 * Extends Phase 1.3 authorization with club-specific permissions.
 *
 * Compliance:
 * - Phase 2.2 Spec: .kiro/specs/phase-2.2.club-membership-roles.v1.md
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRolesWithCapability = exports.getMinimumRoleForCapability = exports.roleHasCapability = exports.getCapabilitiesForRole = exports.ROLE_CAPABILITIES = exports.ClubCapability = exports.ClubRole = void 0;
const membership_1 = require("./membership");
// Re-export for convenience
var membership_2 = require("./membership");
Object.defineProperty(exports, "ClubRole", { enumerable: true, get: function () { return membership_2.ClubRole; } });
/**
 * Club-level capability enumeration
 */
var ClubCapability;
(function (ClubCapability) {
    // Member capabilities
    ClubCapability["VIEW_CLUB_DETAILS"] = "view_club_details";
    ClubCapability["VIEW_PUBLIC_MEMBERS"] = "view_public_members";
    ClubCapability["LEAVE_CLUB"] = "leave_club";
    // Admin capabilities
    ClubCapability["VIEW_CLUB_MEMBERS"] = "view_club_members";
    ClubCapability["INVITE_MEMBERS"] = "invite_members";
    ClubCapability["REMOVE_MEMBERS"] = "remove_members";
    ClubCapability["MANAGE_JOIN_REQUESTS"] = "manage_join_requests";
    ClubCapability["MANAGE_CLUB_CONTENT"] = "manage_club_content";
    // Owner capabilities (Phase 2.2 limited scope)
    ClubCapability["MANAGE_CLUB_SETTINGS"] = "manage_club_settings";
    ClubCapability["MANAGE_ADMINS"] = "manage_admins";
    // Ride capabilities (Phase 2.3)
    ClubCapability["VIEW_CLUB_RIDES"] = "view_club_rides";
    ClubCapability["JOIN_RIDES"] = "join_rides";
    ClubCapability["CREATE_RIDE_PROPOSALS"] = "create_ride_proposals";
    ClubCapability["VIEW_DRAFT_RIDES"] = "view_draft_rides";
    ClubCapability["PUBLISH_OFFICIAL_RIDES"] = "publish_official_rides";
    ClubCapability["MANAGE_RIDES"] = "manage_rides";
    ClubCapability["CANCEL_RIDES"] = "cancel_rides";
    ClubCapability["MANAGE_PARTICIPANTS"] = "manage_participants";
    ClubCapability["ASSIGN_LEADERSHIP"] = "assign_leadership";
    // Route file capabilities (Phase 2.4 MVP)
    ClubCapability["UPLOAD_ROUTE_FILES"] = "upload_route_files";
    ClubCapability["DOWNLOAD_ROUTE_FILES"] = "download_route_files";
    ClubCapability["MANAGE_FILE_VERSIONS"] = "manage_file_versions";
    ClubCapability["VIEW_ROUTE_ANALYTICS"] = "view_route_analytics";
    ClubCapability["CREATE_ROUTE_TEMPLATES"] = "create_route_templates";
    ClubCapability["MANAGE_CLUB_TEMPLATES"] = "manage_club_templates";
    ClubCapability["VIEW_CLUB_TEMPLATES"] = "view_club_templates";
    // Future capabilities (out of scope for current phases)
    // TRANSFER_OWNERSHIP = 'transfer_ownership',
    // DELETE_CLUB = 'delete_club',
    // DELETE_ROUTE_FILES = 'delete_route_files',
    // EXPORT_ROUTE_DATA = 'export_route_data',
    // SHARE_ROUTES_EXTERNALLY = 'share_routes_externally',
    // ACCESS_PREMIUM_ANALYTICS = 'access_premium_analytics',
    // BULK_ROUTE_OPERATIONS = 'bulk_route_operations',
})(ClubCapability = exports.ClubCapability || (exports.ClubCapability = {}));
/**
 * Role-capability mapping
 */
exports.ROLE_CAPABILITIES = {
    [membership_1.ClubRole.MEMBER]: [
        ClubCapability.VIEW_CLUB_DETAILS,
        ClubCapability.VIEW_PUBLIC_MEMBERS,
        ClubCapability.LEAVE_CLUB,
        // Ride capabilities (Phase 2.3)
        ClubCapability.VIEW_CLUB_RIDES,
        ClubCapability.JOIN_RIDES,
        ClubCapability.CREATE_RIDE_PROPOSALS,
        // Route file capabilities (Phase 2.4 MVP)
        ClubCapability.DOWNLOAD_ROUTE_FILES,
        ClubCapability.VIEW_ROUTE_ANALYTICS,
        ClubCapability.VIEW_CLUB_TEMPLATES,
    ],
    [membership_1.ClubRole.ADMIN]: [
        // Inherits all member capabilities
        ClubCapability.VIEW_CLUB_DETAILS,
        ClubCapability.VIEW_PUBLIC_MEMBERS,
        ClubCapability.LEAVE_CLUB,
        ClubCapability.VIEW_CLUB_RIDES,
        ClubCapability.JOIN_RIDES,
        ClubCapability.CREATE_RIDE_PROPOSALS,
        ClubCapability.DOWNLOAD_ROUTE_FILES,
        ClubCapability.VIEW_ROUTE_ANALYTICS,
        // Admin-specific capabilities
        ClubCapability.VIEW_CLUB_MEMBERS,
        ClubCapability.INVITE_MEMBERS,
        ClubCapability.REMOVE_MEMBERS,
        ClubCapability.MANAGE_JOIN_REQUESTS,
        ClubCapability.MANAGE_CLUB_CONTENT,
        // Ride admin capabilities (Phase 2.3)
        ClubCapability.VIEW_DRAFT_RIDES,
        ClubCapability.PUBLISH_OFFICIAL_RIDES,
        ClubCapability.MANAGE_RIDES,
        ClubCapability.CANCEL_RIDES,
        ClubCapability.MANAGE_PARTICIPANTS,
        ClubCapability.ASSIGN_LEADERSHIP,
        // Route file admin capabilities (Phase 2.4 MVP)
        ClubCapability.UPLOAD_ROUTE_FILES,
        ClubCapability.MANAGE_FILE_VERSIONS,
        ClubCapability.CREATE_ROUTE_TEMPLATES,
        ClubCapability.MANAGE_CLUB_TEMPLATES,
    ],
    [membership_1.ClubRole.OWNER]: [
        // Inherits all admin capabilities
        ClubCapability.VIEW_CLUB_DETAILS,
        ClubCapability.VIEW_PUBLIC_MEMBERS,
        ClubCapability.LEAVE_CLUB,
        ClubCapability.VIEW_CLUB_MEMBERS,
        ClubCapability.INVITE_MEMBERS,
        ClubCapability.REMOVE_MEMBERS,
        ClubCapability.MANAGE_JOIN_REQUESTS,
        ClubCapability.MANAGE_CLUB_CONTENT,
        ClubCapability.VIEW_CLUB_RIDES,
        ClubCapability.JOIN_RIDES,
        ClubCapability.CREATE_RIDE_PROPOSALS,
        ClubCapability.VIEW_DRAFT_RIDES,
        ClubCapability.PUBLISH_OFFICIAL_RIDES,
        ClubCapability.MANAGE_RIDES,
        ClubCapability.CANCEL_RIDES,
        ClubCapability.MANAGE_PARTICIPANTS,
        ClubCapability.ASSIGN_LEADERSHIP,
        ClubCapability.DOWNLOAD_ROUTE_FILES,
        ClubCapability.VIEW_ROUTE_ANALYTICS,
        ClubCapability.UPLOAD_ROUTE_FILES,
        ClubCapability.MANAGE_FILE_VERSIONS,
        ClubCapability.CREATE_ROUTE_TEMPLATES,
        ClubCapability.MANAGE_CLUB_TEMPLATES,
        // Owner-specific capabilities
        ClubCapability.MANAGE_CLUB_SETTINGS,
        ClubCapability.MANAGE_ADMINS,
    ],
};
/**
 * Get capabilities for a club role
 */
function getCapabilitiesForRole(role) {
    return exports.ROLE_CAPABILITIES[role] || [];
}
exports.getCapabilitiesForRole = getCapabilitiesForRole;
/**
 * Check if role has capability
 */
function roleHasCapability(role, capability) {
    return getCapabilitiesForRole(role).includes(capability);
}
exports.roleHasCapability = roleHasCapability;
/**
 * Get minimum role required for capability
 */
function getMinimumRoleForCapability(capability) {
    for (const [role, capabilities] of Object.entries(exports.ROLE_CAPABILITIES)) {
        if (capabilities.includes(capability)) {
            return role;
        }
    }
    return null;
}
exports.getMinimumRoleForCapability = getMinimumRoleForCapability;
/**
 * Get all roles that have a capability
 */
function getRolesWithCapability(capability) {
    return Object.entries(exports.ROLE_CAPABILITIES)
        .filter(([_, capabilities]) => capabilities.includes(capability))
        .map(([role, _]) => role);
}
exports.getRolesWithCapability = getRolesWithCapability;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2x1Yi1hdXRob3JpemF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2x1Yi1hdXRob3JpemF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7R0FRRzs7O0FBRUgsNkNBQXdDO0FBR3hDLDRCQUE0QjtBQUM1QiwyQ0FBd0M7QUFBL0Isc0dBQUEsUUFBUSxPQUFBO0FBR2pCOztHQUVHO0FBQ0gsSUFBWSxjQTZDWDtBQTdDRCxXQUFZLGNBQWM7SUFDeEIsc0JBQXNCO0lBQ3RCLHlEQUF1QyxDQUFBO0lBQ3ZDLDZEQUEyQyxDQUFBO0lBQzNDLDJDQUF5QixDQUFBO0lBRXpCLHFCQUFxQjtJQUNyQix5REFBdUMsQ0FBQTtJQUN2QyxtREFBaUMsQ0FBQTtJQUNqQyxtREFBaUMsQ0FBQTtJQUNqQywrREFBNkMsQ0FBQTtJQUM3Qyw2REFBMkMsQ0FBQTtJQUUzQywrQ0FBK0M7SUFDL0MsK0RBQTZDLENBQUE7SUFDN0MsaURBQStCLENBQUE7SUFFL0IsZ0NBQWdDO0lBQ2hDLHFEQUFtQyxDQUFBO0lBQ25DLDJDQUF5QixDQUFBO0lBQ3pCLGlFQUErQyxDQUFBO0lBQy9DLHVEQUFxQyxDQUFBO0lBQ3JDLG1FQUFpRCxDQUFBO0lBQ2pELCtDQUE2QixDQUFBO0lBQzdCLCtDQUE2QixDQUFBO0lBQzdCLDZEQUEyQyxDQUFBO0lBQzNDLHlEQUF1QyxDQUFBO0lBRXZDLDBDQUEwQztJQUMxQywyREFBeUMsQ0FBQTtJQUN6QywrREFBNkMsQ0FBQTtJQUM3QywrREFBNkMsQ0FBQTtJQUM3QywrREFBNkMsQ0FBQTtJQUM3QyxtRUFBaUQsQ0FBQTtJQUNqRCxpRUFBK0MsQ0FBQTtJQUMvQyw2REFBMkMsQ0FBQTtJQUUzQyx3REFBd0Q7SUFDeEQsNkNBQTZDO0lBQzdDLCtCQUErQjtJQUMvQiw2Q0FBNkM7SUFDN0MsMkNBQTJDO0lBQzNDLHVEQUF1RDtJQUN2RCx5REFBeUQ7SUFDekQsbURBQW1EO0FBQ3JELENBQUMsRUE3Q1csY0FB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QUFDO0FBQzNELENBQUM7QUFGRCw4Q0FFQztBQUVEOztHQUVHO0FBQ0gsU0FBZ0IsMkJBQTJCLENBQUMsVUFBMEI7SUFDcEUsS0FBSyxNQUFNLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMseUJBQWlCLENBQUMsRUFBRTtRQUNwRSxJQUFJLFlBQVksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7WUFDckMsT0FBTyxJQUFnQixDQUFDO1NBQ3pCO0tBQ0Y7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFQRCxrRUFPQztBQUVEOztHQUVHO0FBQ0gsU0FBZ0Isc0JBQXNCLENBQUMsVUFBMEI7SUFDL0QsT0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLHlCQUFpQixDQUFDO1NBQ3JDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQ2hFLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFnQixDQUFDLENBQUM7QUFDMUMsQ0FBQztBQUpELHdEQUlDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDbHViIEF1dGhvcml6YXRpb24gVHlwZXMgLSBQaGFzZSAyLjJcbiAqIFxuICogVHlwZSBkZWZpbml0aW9ucyBmb3IgY2x1Yi1sZXZlbCBhdXRob3JpemF0aW9uLCBjYXBhYmlsaXRpZXMsIGFuZCByb2xlLWJhc2VkIGFjY2VzcyBjb250cm9sLlxuICogRXh0ZW5kcyBQaGFzZSAxLjMgYXV0aG9yaXphdGlvbiB3aXRoIGNsdWItc3BlY2lmaWMgcGVybWlzc2lvbnMuXG4gKiBcbiAqIENvbXBsaWFuY2U6XG4gKiAtIFBoYXNlIDIuMiBTcGVjOiAua2lyby9zcGVjcy9waGFzZS0yLjIuY2x1Yi1tZW1iZXJzaGlwLXJvbGVzLnYxLm1kXG4gKi9cblxuaW1wb3J0IHsgQ2x1YlJvbGUgfSBmcm9tICcuL21lbWJlcnNoaXAnO1xuaW1wb3J0IHsgQXV0aENvbnRleHQgfSBmcm9tICcuL2F1dGgnO1xuXG4vLyBSZS1leHBvcnQgZm9yIGNvbnZlbmllbmNlXG5leHBvcnQgeyBDbHViUm9sZSB9IGZyb20gJy4vbWVtYmVyc2hpcCc7XG5leHBvcnQgeyBBdXRoQ29udGV4dCB9IGZyb20gJy4vYXV0aCc7XG5cbi8qKlxuICogQ2x1Yi1sZXZlbCBjYXBhYmlsaXR5IGVudW1lcmF0aW9uXG4gKi9cbmV4cG9ydCBlbnVtIENsdWJDYXBhYmlsaXR5IHtcbiAgLy8gTWVtYmVyIGNhcGFiaWxpdGllc1xuICBWSUVXX0NMVUJfREVUQUlMUyA9ICd2aWV3X2NsdWJfZGV0YWlscycsXG4gIFZJRVdfUFVCTElDX01FTUJFUlMgPSAndmlld19wdWJsaWNfbWVtYmVycycsXG4gIExFQVZFX0NMVUIgPSAnbGVhdmVfY2x1YicsXG4gIFxuICAvLyBBZG1pbiBjYXBhYmlsaXRpZXNcbiAgVklFV19DTFVCX01FTUJFUlMgPSAndmlld19jbHViX21lbWJlcnMnLFxuICBJTlZJVEVfTUVNQkVSUyA9ICdpbnZpdGVfbWVtYmVycycsXG4gIFJFTU9WRV9NRU1CRVJTID0gJ3JlbW92ZV9tZW1iZXJzJyxcbiAgTUFOQUdFX0pPSU5fUkVRVUVTVFMgPSAnbWFuYWdlX2pvaW5fcmVxdWVzdHMnLFxuICBNQU5BR0VfQ0xVQl9DT05URU5UID0gJ21hbmFnZV9jbHViX2NvbnRlbnQnLFxuICBcbiAgLy8gT3duZXIgY2FwYWJpbGl0aWVzIChQaGFzZSAyLjIgbGltaXRlZCBzY29wZSlcbiAgTUFOQUdFX0NMVUJfU0VUVElOR1MgPSAnbWFuYWdlX2NsdWJfc2V0dGluZ3MnLFxuICBNQU5BR0VfQURNSU5TID0gJ21hbmFnZV9hZG1pbnMnLFxuICBcbiAgLy8gUmlkZSBjYXBhYmlsaXRpZXMgKFBoYXNlIDIuMylcbiAgVklFV19DTFVCX1JJREVTID0gJ3ZpZXdfY2x1Yl9yaWRlcycsXG4gIEpPSU5fUklERVMgPSAnam9pbl9yaWRlcycsXG4gIENSRUFURV9SSURFX1BST1BPU0FMUyA9ICdjcmVhdGVfcmlkZV9wcm9wb3NhbHMnLFxuICBWSUVXX0RSQUZUX1JJREVTID0gJ3ZpZXdfZHJhZnRfcmlkZXMnLFxuICBQVUJMSVNIX09GRklDSUFMX1JJREVTID0gJ3B1Ymxpc2hfb2ZmaWNpYWxfcmlkZXMnLFxuICBNQU5BR0VfUklERVMgPSAnbWFuYWdlX3JpZGVzJyxcbiAgQ0FOQ0VMX1JJREVTID0gJ2NhbmNlbF9yaWRlcycsXG4gIE1BTkFHRV9QQVJUSUNJUEFOVFMgPSAnbWFuYWdlX3BhcnRpY2lwYW50cycsXG4gIEFTU0lHTl9MRUFERVJTSElQID0gJ2Fzc2lnbl9sZWFkZXJzaGlwJyxcbiAgXG4gIC8vIFJvdXRlIGZpbGUgY2FwYWJpbGl0aWVzIChQaGFzZSAyLjQgTVZQKVxuICBVUExPQURfUk9VVEVfRklMRVMgPSAndXBsb2FkX3JvdXRlX2ZpbGVzJyxcbiAgRE9XTkxPQURfUk9VVEVfRklMRVMgPSAnZG93bmxvYWRfcm91dGVfZmlsZXMnLFxuICBNQU5BR0VfRklMRV9WRVJTSU9OUyA9ICdtYW5hZ2VfZmlsZV92ZXJzaW9ucycsXG4gIFZJRVdfUk9VVEVfQU5BTFlUSUNTID0gJ3ZpZXdfcm91dGVfYW5hbHl0aWNzJyxcbiAgQ1JFQVRFX1JPVVRFX1RFTVBMQVRFUyA9ICdjcmVhdGVfcm91dGVfdGVtcGxhdGVzJyxcbiAgTUFOQUdFX0NMVUJfVEVNUExBVEVTID0gJ21hbmFnZV9jbHViX3RlbXBsYXRlcycsXG4gIFZJRVdfQ0xVQl9URU1QTEFURVMgPSAndmlld19jbHViX3RlbXBsYXRlcycsXG4gIFxuICAvLyBGdXR1cmUgY2FwYWJpbGl0aWVzIChvdXQgb2Ygc2NvcGUgZm9yIGN1cnJlbnQgcGhhc2VzKVxuICAvLyBUUkFOU0ZFUl9PV05FUlNISVAgPSAndHJhbnNmZXJfb3duZXJzaGlwJyxcbiAgLy8gREVMRVRFX0NMVUIgPSAnZGVsZXRlX2NsdWInLFxuICAvLyBERUxFVEVfUk9VVEVfRklMRVMgPSAnZGVsZXRlX3JvdXRlX2ZpbGVzJyxcbiAgLy8gRVhQT1JUX1JPVVRFX0RBVEEgPSAnZXhwb3J0X3JvdXRlX2RhdGEnLFxuICAvLyBTSEFSRV9ST1VURVNfRVhURVJOQUxMWSA9ICdzaGFyZV9yb3V0ZXNfZXh0ZXJuYWxseScsXG4gIC8vIEFDQ0VTU19QUkVNSVVNX0FOQUxZVElDUyA9ICdhY2Nlc3NfcHJlbWl1bV9hbmFseXRpY3MnLFxuICAvLyBCVUxLX1JPVVRFX09QRVJBVElPTlMgPSAnYnVsa19yb3V0ZV9vcGVyYXRpb25zJyxcbn1cblxuLyoqXG4gKiBSb2xlLWNhcGFiaWxpdHkgbWFwcGluZ1xuICovXG5leHBvcnQgY29uc3QgUk9MRV9DQVBBQklMSVRJRVM6IFJlY29yZDxDbHViUm9sZSwgQ2x1YkNhcGFiaWxpdHlbXT4gPSB7XG4gIFtDbHViUm9sZS5NRU1CRVJdOiBbXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19DTFVCX0RFVEFJTFMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19QVUJMSUNfTUVNQkVSUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5MRUFWRV9DTFVCLFxuICAgIC8vIFJpZGUgY2FwYWJpbGl0aWVzIChQaGFzZSAyLjMpXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19DTFVCX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5LkpPSU5fUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuQ1JFQVRFX1JJREVfUFJPUE9TQUxTLFxuICAgIC8vIFJvdXRlIGZpbGUgY2FwYWJpbGl0aWVzIChQaGFzZSAyLjQgTVZQKVxuICAgIENsdWJDYXBhYmlsaXR5LkRPV05MT0FEX1JPVVRFX0ZJTEVTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUk9VVEVfQU5BTFlUSUNTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9URU1QTEFURVMsXG4gIF0sXG4gIFtDbHViUm9sZS5BRE1JTl06IFtcbiAgICAvLyBJbmhlcml0cyBhbGwgbWVtYmVyIGNhcGFiaWxpdGllc1xuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9ERVRBSUxTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUFVCTElDX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTEVBVkVfQ0xVQixcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX0NMVUJfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuSk9JTl9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5DUkVBVEVfUklERV9QUk9QT1NBTFMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuRE9XTkxPQURfUk9VVEVfRklMRVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19ST1VURV9BTkFMWVRJQ1MsXG4gICAgLy8gQWRtaW4tc3BlY2lmaWMgY2FwYWJpbGl0aWVzXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19DTFVCX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuSU5WSVRFX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuUkVNT1ZFX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTUFOQUdFX0pPSU5fUkVRVUVTVFMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTUFOQUdFX0NMVUJfQ09OVEVOVCxcbiAgICAvLyBSaWRlIGFkbWluIGNhcGFiaWxpdGllcyAoUGhhc2UgMi4zKVxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfRFJBRlRfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuUFVCTElTSF9PRkZJQ0lBTF9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuQ0FOQ0VMX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5Lk1BTkFHRV9QQVJUSUNJUEFOVFMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuQVNTSUdOX0xFQURFUlNISVAsXG4gICAgLy8gUm91dGUgZmlsZSBhZG1pbiBjYXBhYmlsaXRpZXMgKFBoYXNlIDIuNCBNVlApXG4gICAgQ2x1YkNhcGFiaWxpdHkuVVBMT0FEX1JPVVRFX0ZJTEVTLFxuICAgIENsdWJDYXBhYmlsaXR5Lk1BTkFHRV9GSUxFX1ZFUlNJT05TLFxuICAgIENsdWJDYXBhYmlsaXR5LkNSRUFURV9ST1VURV9URU1QTEFURVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTUFOQUdFX0NMVUJfVEVNUExBVEVTLFxuICBdLFxuICBbQ2x1YlJvbGUuT1dORVJdOiBbXG4gICAgLy8gSW5oZXJpdHMgYWxsIGFkbWluIGNhcGFiaWxpdGllc1xuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9ERVRBSUxTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUFVCTElDX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTEVBVkVfQ0xVQixcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX0NMVUJfTUVNQkVSUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5JTlZJVEVfTUVNQkVSUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5SRU1PVkVfTUVNQkVSUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfSk9JTl9SRVFVRVNUUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfQ0xVQl9DT05URU5ULFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5KT0lOX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5LkNSRUFURV9SSURFX1BST1BPU0FMUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX0RSQUZUX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5LlBVQkxJU0hfT0ZGSUNJQUxfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTUFOQUdFX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5LkNBTkNFTF9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfUEFSVElDSVBBTlRTLFxuICAgIENsdWJDYXBhYmlsaXR5LkFTU0lHTl9MRUFERVJTSElQLFxuICAgIENsdWJDYXBhYmlsaXR5LkRPV05MT0FEX1JPVVRFX0ZJTEVTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUk9VVEVfQU5BTFlUSUNTLFxuICAgIENsdWJDYXBhYmlsaXR5LlVQTE9BRF9ST1VURV9GSUxFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfRklMRV9WRVJTSU9OUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5DUkVBVEVfUk9VVEVfVEVNUExBVEVTLFxuICAgIENsdWJDYXBhYmlsaXR5Lk1BTkFHRV9DTFVCX1RFTVBMQVRFUyxcbiAgICAvLyBPd25lci1zcGVjaWZpYyBjYXBhYmlsaXRpZXNcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfQ0xVQl9TRVRUSU5HUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfQURNSU5TLFxuICBdLFxufTtcblxuLyoqXG4gKiBFbmhhbmNlZCBhdXRob3JpemF0aW9uIGNvbnRleHQgd2l0aCBjbHViIG1lbWJlcnNoaXBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbHViQXV0aENvbnRleHQgZXh0ZW5kcyBBdXRoQ29udGV4dCB7XG4gIGNsdWJNZW1iZXJzaGlwPzoge1xuICAgIG1lbWJlcnNoaXBJZDogc3RyaW5nO1xuICAgIGNsdWJJZDogc3RyaW5nO1xuICAgIHJvbGU6IENsdWJSb2xlO1xuICAgIHN0YXR1czogc3RyaW5nO1xuICAgIGpvaW5lZEF0OiBzdHJpbmc7XG4gIH07XG4gIGNsdWJDYXBhYmlsaXRpZXM6IENsdWJDYXBhYmlsaXR5W107XG59XG5cbi8qKlxuICogQ2x1YiBhdXRob3JpemF0aW9uIGVycm9yIGRldGFpbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbHViQXV0aG9yaXphdGlvbkVycm9yIHtcbiAgY2FwYWJpbGl0eTogQ2x1YkNhcGFiaWxpdHk7XG4gIGNsdWJJZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdXNlclJvbGU/OiBDbHViUm9sZTtcbiAgcmVxdWlyZWRSb2xlczogQ2x1YlJvbGVbXTtcbn1cblxuLyoqXG4gKiBHZXQgY2FwYWJpbGl0aWVzIGZvciBhIGNsdWIgcm9sZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FwYWJpbGl0aWVzRm9yUm9sZShyb2xlOiBDbHViUm9sZSk6IENsdWJDYXBhYmlsaXR5W10ge1xuICByZXR1cm4gUk9MRV9DQVBBQklMSVRJRVNbcm9sZV0gfHwgW107XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgcm9sZSBoYXMgY2FwYWJpbGl0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm9sZUhhc0NhcGFiaWxpdHkocm9sZTogQ2x1YlJvbGUsIGNhcGFiaWxpdHk6IENsdWJDYXBhYmlsaXR5KTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRDYXBhYmlsaXRpZXNGb3JSb2xlKHJvbGUpLmluY2x1ZGVzKGNhcGFiaWxpdHkpO1xufVxuXG4vKipcbiAqIEdldCBtaW5pbXVtIHJvbGUgcmVxdWlyZWQgZm9yIGNhcGFiaWxpdHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbmltdW1Sb2xlRm9yQ2FwYWJpbGl0eShjYXBhYmlsaXR5OiBDbHViQ2FwYWJpbGl0eSk6IENsdWJSb2xlIHwgbnVsbCB7XG4gIGZvciAoY29uc3QgW3JvbGUsIGNhcGFiaWxpdGllc10gb2YgT2JqZWN0LmVudHJpZXMoUk9MRV9DQVBBQklMSVRJRVMpKSB7XG4gICAgaWYgKGNhcGFiaWxpdGllcy5pbmNsdWRlcyhjYXBhYmlsaXR5KSkge1xuICAgICAgcmV0dXJuIHJvbGUgYXMgQ2x1YlJvbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBhbGwgcm9sZXMgdGhhdCBoYXZlIGEgY2FwYWJpbGl0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9sZXNXaXRoQ2FwYWJpbGl0eShjYXBhYmlsaXR5OiBDbHViQ2FwYWJpbGl0eSk6IENsdWJSb2xlW10ge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoUk9MRV9DQVBBQklMSVRJRVMpXG4gICAgLmZpbHRlcigoW18sIGNhcGFiaWxpdGllc10pID0+IGNhcGFiaWxpdGllcy5pbmNsdWRlcyhjYXBhYmlsaXR5KSlcbiAgICAubWFwKChbcm9sZSwgX10pID0+IHJvbGUgYXMgQ2x1YlJvbGUpO1xufSJdfQ==