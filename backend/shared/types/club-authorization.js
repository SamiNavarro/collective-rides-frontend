"use strict";
/**
 * Club Authorization Types - Phase 2.2
 *
 * Type definitions for club-level authorization, capabilities, and role-based access control.
 * Extends Phase 1.3 authorization with club-specific permissions.
 *
 * Compliance:
 * - Phase 2.2 Spec: .kiro/specs/phase-2.2.club-membership-roles.v1.md
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.getRolesWithCapability = exports.getMinimumRoleForCapability = exports.roleHasCapability = exports.getCapabilitiesForRole = exports.ROLE_CAPABILITIES = exports.ClubCapability = exports.ClubRole = void 0;
const membership_1 = require("./membership");
// Re-export for convenience
var membership_2 = require("./membership");
Object.defineProperty(exports, "ClubRole", { enumerable: true, get: function () { return membership_2.ClubRole; } });
/**
 * Club-level capability enumeration
 */
var ClubCapability;
(function (ClubCapability) {
    // Member capabilities
    ClubCapability["VIEW_CLUB_DETAILS"] = "view_club_details";
    ClubCapability["VIEW_PUBLIC_MEMBERS"] = "view_public_members";
    ClubCapability["LEAVE_CLUB"] = "leave_club";
    // Admin capabilities
    ClubCapability["VIEW_CLUB_MEMBERS"] = "view_club_members";
    ClubCapability["INVITE_MEMBERS"] = "invite_members";
    ClubCapability["REMOVE_MEMBERS"] = "remove_members";
    ClubCapability["MANAGE_JOIN_REQUESTS"] = "manage_join_requests";
    ClubCapability["MANAGE_CLUB_CONTENT"] = "manage_club_content";
    // Owner capabilities (Phase 2.2 limited scope)
    ClubCapability["MANAGE_CLUB_SETTINGS"] = "manage_club_settings";
    ClubCapability["MANAGE_ADMINS"] = "manage_admins";
    // Ride capabilities (Phase 2.3)
    ClubCapability["VIEW_CLUB_RIDES"] = "view_club_rides";
    ClubCapability["JOIN_RIDES"] = "join_rides";
    ClubCapability["CREATE_RIDE_PROPOSALS"] = "create_ride_proposals";
    ClubCapability["VIEW_DRAFT_RIDES"] = "view_draft_rides";
    ClubCapability["PUBLISH_OFFICIAL_RIDES"] = "publish_official_rides";
    ClubCapability["MANAGE_RIDES"] = "manage_rides";
    ClubCapability["CANCEL_RIDES"] = "cancel_rides";
    ClubCapability["MANAGE_PARTICIPANTS"] = "manage_participants";
    ClubCapability["ASSIGN_LEADERSHIP"] = "assign_leadership";
    // Route file capabilities (Phase 2.4 MVP)
    ClubCapability["UPLOAD_ROUTE_FILES"] = "upload_route_files";
    ClubCapability["DOWNLOAD_ROUTE_FILES"] = "download_route_files";
    ClubCapability["MANAGE_FILE_VERSIONS"] = "manage_file_versions";
    ClubCapability["VIEW_ROUTE_ANALYTICS"] = "view_route_analytics";
    ClubCapability["CREATE_ROUTE_TEMPLATES"] = "create_route_templates";
    ClubCapability["MANAGE_CLUB_TEMPLATES"] = "manage_club_templates";
    ClubCapability["VIEW_CLUB_TEMPLATES"] = "view_club_templates";
    // Future capabilities (out of scope for current phases)
    // TRANSFER_OWNERSHIP = 'transfer_ownership',
    // DELETE_CLUB = 'delete_club',
    // DELETE_ROUTE_FILES = 'delete_route_files',
    // EXPORT_ROUTE_DATA = 'export_route_data',
    // SHARE_ROUTES_EXTERNALLY = 'share_routes_externally',
    // ACCESS_PREMIUM_ANALYTICS = 'access_premium_analytics',
    // BULK_ROUTE_OPERATIONS = 'bulk_route_operations',
})(ClubCapability = exports.ClubCapability || (exports.ClubCapability = {}));
/**
 * Role-capability mapping
 */
exports.ROLE_CAPABILITIES = {
    [membership_1.ClubRole.MEMBER]: [
        ClubCapability.VIEW_CLUB_DETAILS,
        ClubCapability.VIEW_PUBLIC_MEMBERS,
        ClubCapability.LEAVE_CLUB,
        // Ride capabilities (Phase 2.3)
        ClubCapability.VIEW_CLUB_RIDES,
        ClubCapability.JOIN_RIDES,
        ClubCapability.CREATE_RIDE_PROPOSALS,
        // Route file capabilities (Phase 2.4 MVP)
        ClubCapability.DOWNLOAD_ROUTE_FILES,
        ClubCapability.VIEW_ROUTE_ANALYTICS,
        ClubCapability.VIEW_CLUB_TEMPLATES,
    ],
    [membership_1.ClubRole.CAPTAIN]: [
        // Inherits all member capabilities
        ClubCapability.VIEW_CLUB_DETAILS,
        ClubCapability.VIEW_PUBLIC_MEMBERS,
        ClubCapability.LEAVE_CLUB,
        ClubCapability.VIEW_CLUB_RIDES,
        ClubCapability.JOIN_RIDES,
        ClubCapability.CREATE_RIDE_PROPOSALS,
        ClubCapability.DOWNLOAD_ROUTE_FILES,
        ClubCapability.VIEW_ROUTE_ANALYTICS,
        ClubCapability.VIEW_CLUB_TEMPLATES,
        // Captain-specific ride capabilities (Phase 2.3)
        ClubCapability.VIEW_DRAFT_RIDES,
        ClubCapability.PUBLISH_OFFICIAL_RIDES,
        ClubCapability.MANAGE_RIDES,
        ClubCapability.MANAGE_PARTICIPANTS,
        // Route file captain capabilities (Phase 2.4 MVP)
        ClubCapability.UPLOAD_ROUTE_FILES,
        ClubCapability.CREATE_ROUTE_TEMPLATES,
    ],
    [membership_1.ClubRole.ADMIN]: [
        // Inherits all member capabilities
        ClubCapability.VIEW_CLUB_DETAILS,
        ClubCapability.VIEW_PUBLIC_MEMBERS,
        ClubCapability.LEAVE_CLUB,
        ClubCapability.VIEW_CLUB_RIDES,
        ClubCapability.JOIN_RIDES,
        ClubCapability.CREATE_RIDE_PROPOSALS,
        ClubCapability.DOWNLOAD_ROUTE_FILES,
        ClubCapability.VIEW_ROUTE_ANALYTICS,
        // Admin-specific capabilities
        ClubCapability.VIEW_CLUB_MEMBERS,
        ClubCapability.INVITE_MEMBERS,
        ClubCapability.REMOVE_MEMBERS,
        ClubCapability.MANAGE_JOIN_REQUESTS,
        ClubCapability.MANAGE_CLUB_CONTENT,
        // Ride admin capabilities (Phase 2.3)
        ClubCapability.VIEW_DRAFT_RIDES,
        ClubCapability.PUBLISH_OFFICIAL_RIDES,
        ClubCapability.MANAGE_RIDES,
        ClubCapability.CANCEL_RIDES,
        ClubCapability.MANAGE_PARTICIPANTS,
        ClubCapability.ASSIGN_LEADERSHIP,
        // Route file admin capabilities (Phase 2.4 MVP)
        ClubCapability.UPLOAD_ROUTE_FILES,
        ClubCapability.MANAGE_FILE_VERSIONS,
        ClubCapability.CREATE_ROUTE_TEMPLATES,
        ClubCapability.MANAGE_CLUB_TEMPLATES,
    ],
    [membership_1.ClubRole.OWNER]: [
        // Inherits all admin capabilities
        ClubCapability.VIEW_CLUB_DETAILS,
        ClubCapability.VIEW_PUBLIC_MEMBERS,
        ClubCapability.LEAVE_CLUB,
        ClubCapability.VIEW_CLUB_MEMBERS,
        ClubCapability.INVITE_MEMBERS,
        ClubCapability.REMOVE_MEMBERS,
        ClubCapability.MANAGE_JOIN_REQUESTS,
        ClubCapability.MANAGE_CLUB_CONTENT,
        ClubCapability.VIEW_CLUB_RIDES,
        ClubCapability.JOIN_RIDES,
        ClubCapability.CREATE_RIDE_PROPOSALS,
        ClubCapability.VIEW_DRAFT_RIDES,
        ClubCapability.PUBLISH_OFFICIAL_RIDES,
        ClubCapability.MANAGE_RIDES,
        ClubCapability.CANCEL_RIDES,
        ClubCapability.MANAGE_PARTICIPANTS,
        ClubCapability.ASSIGN_LEADERSHIP,
        ClubCapability.DOWNLOAD_ROUTE_FILES,
        ClubCapability.VIEW_ROUTE_ANALYTICS,
        ClubCapability.UPLOAD_ROUTE_FILES,
        ClubCapability.MANAGE_FILE_VERSIONS,
        ClubCapability.CREATE_ROUTE_TEMPLATES,
        ClubCapability.MANAGE_CLUB_TEMPLATES,
        // Owner-specific capabilities
        ClubCapability.MANAGE_CLUB_SETTINGS,
        ClubCapability.MANAGE_ADMINS,
    ],
};
/**
 * Get capabilities for a club role
 */
function getCapabilitiesForRole(role) {
    return exports.ROLE_CAPABILITIES[role] || [];
}
exports.getCapabilitiesForRole = getCapabilitiesForRole;
/**
 * Check if role has capability
 */
function roleHasCapability(role, capability) {
    return getCapabilitiesForRole(role).includes(capability);
}
exports.roleHasCapability = roleHasCapability;
/**
 * Get minimum role required for capability
 */
function getMinimumRoleForCapability(capability) {
    for (const [role, capabilities] of Object.entries(exports.ROLE_CAPABILITIES)) {
        if (capabilities.includes(capability)) {
            return role;
        }
    }
    return null;
}
exports.getMinimumRoleForCapability = getMinimumRoleForCapability;
/**
 * Get all roles that have a capability
 */
function getRolesWithCapability(capability) {
    return Object.entries(exports.ROLE_CAPABILITIES)
        .filter(([_, capabilities]) => capabilities.includes(capability))
        .map(([role, _]) => role);
}
exports.getRolesWithCapability = getRolesWithCapability;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2x1Yi1hdXRob3JpemF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2x1Yi1hdXRob3JpemF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7R0FRRzs7O0FBRUgsNkNBQXdDO0FBR3hDLDRCQUE0QjtBQUM1QiwyQ0FBd0M7QUFBL0Isc0dBQUEsUUFBUSxPQUFBO0FBR2pCOztHQUVHO0FBQ0gsSUFBWSxjQTZDWDtBQTdDRCxXQUFZLGNBQWM7SUFDeEIsc0JBQXNCO0lBQ3RCLHlEQUF1QyxDQUFBO0lBQ3ZDLDZEQUEyQyxDQUFBO0lBQzNDLDJDQUF5QixDQUFBO0lBRXpCLHFCQUFxQjtJQUNyQix5REFBdUMsQ0FBQTtJQUN2QyxtREFBaUMsQ0FBQTtJQUNqQyxtREFBaUMsQ0FBQTtJQUNqQywrREFBNkMsQ0FBQTtJQUM3Qyw2REFBMkMsQ0FBQTtJQUUzQywrQ0FBK0M7SUFDL0MsK0RBQTZDLENBQUE7SUFDN0MsaURBQStCLENBQUE7SUFFL0IsZ0NBQWdDO0lBQ2hDLHFEQUFtQyxDQUFBO0lBQ25DLDJDQUF5QixDQUFBO0lBQ3pCLGlFQUErQyxDQUFBO0lBQy9DLHVEQUFxQyxDQUFBO0lBQ3JDLG1FQUFpRCxDQUFBO0lBQ2pELCtDQUE2QixDQUFBO0lBQzdCLCtDQUE2QixDQUFBO0lBQzdCLDZEQUEyQyxDQUFBO0lBQzNDLHlEQUF1QyxDQUFBO0lBRXZDLDBDQUEwQztJQUMxQywyREFBeUMsQ0FBQTtJQUN6QywrREFBNkMsQ0FBQTtJQUM3QywrREFBNkMsQ0FBQTtJQUM3QywrREFBNkMsQ0FBQTtJQUM3QyxtRUFBaUQsQ0FBQTtJQUNqRCxpRUFBK0MsQ0FBQTtJQUMvQyw2REFBMkMsQ0FBQTtJQUUzQyx3REFBd0Q7SUFDeEQsNkNBQTZDO0lBQzdDLCtCQUErQjtJQUMvQiw2Q0FBNkM7SUFDN0MsMkNBQTJDO0lBQzNDLHVEQUF1RDtJQUN2RCx5REFBeUQ7SUFDekQsbURBQW1EO0FBQ3JELENBQUMsRUE3Q1csY0FB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RSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBZ0IsQ0FBQyxDQUFDO0FBQzFDLENBQUM7QUFKRCx3REFJQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2x1YiBBdXRob3JpemF0aW9uIFR5cGVzIC0gUGhhc2UgMi4yXG4gKiBcbiAqIFR5cGUgZGVmaW5pdGlvbnMgZm9yIGNsdWItbGV2ZWwgYXV0aG9yaXphdGlvbiwgY2FwYWJpbGl0aWVzLCBhbmQgcm9sZS1iYXNlZCBhY2Nlc3MgY29udHJvbC5cbiAqIEV4dGVuZHMgUGhhc2UgMS4zIGF1dGhvcml6YXRpb24gd2l0aCBjbHViLXNwZWNpZmljIHBlcm1pc3Npb25zLlxuICogXG4gKiBDb21wbGlhbmNlOlxuICogLSBQaGFzZSAyLjIgU3BlYzogLmtpcm8vc3BlY3MvcGhhc2UtMi4yLmNsdWItbWVtYmVyc2hpcC1yb2xlcy52MS5tZFxuICovXG5cbmltcG9ydCB7IENsdWJSb2xlIH0gZnJvbSAnLi9tZW1iZXJzaGlwJztcbmltcG9ydCB7IEF1dGhDb250ZXh0IH0gZnJvbSAnLi9hdXRoJztcblxuLy8gUmUtZXhwb3J0IGZvciBjb252ZW5pZW5jZVxuZXhwb3J0IHsgQ2x1YlJvbGUgfSBmcm9tICcuL21lbWJlcnNoaXAnO1xuZXhwb3J0IHsgQXV0aENvbnRleHQgfSBmcm9tICcuL2F1dGgnO1xuXG4vKipcbiAqIENsdWItbGV2ZWwgY2FwYWJpbGl0eSBlbnVtZXJhdGlvblxuICovXG5leHBvcnQgZW51bSBDbHViQ2FwYWJpbGl0eSB7XG4gIC8vIE1lbWJlciBjYXBhYmlsaXRpZXNcbiAgVklFV19DTFVCX0RFVEFJTFMgPSAndmlld19jbHViX2RldGFpbHMnLFxuICBWSUVXX1BVQkxJQ19NRU1CRVJTID0gJ3ZpZXdfcHVibGljX21lbWJlcnMnLFxuICBMRUFWRV9DTFVCID0gJ2xlYXZlX2NsdWInLFxuICBcbiAgLy8gQWRtaW4gY2FwYWJpbGl0aWVzXG4gIFZJRVdfQ0xVQl9NRU1CRVJTID0gJ3ZpZXdfY2x1Yl9tZW1iZXJzJyxcbiAgSU5WSVRFX01FTUJFUlMgPSAnaW52aXRlX21lbWJlcnMnLFxuICBSRU1PVkVfTUVNQkVSUyA9ICdyZW1vdmVfbWVtYmVycycsXG4gIE1BTkFHRV9KT0lOX1JFUVVFU1RTID0gJ21hbmFnZV9qb2luX3JlcXVlc3RzJyxcbiAgTUFOQUdFX0NMVUJfQ09OVEVOVCA9ICdtYW5hZ2VfY2x1Yl9jb250ZW50JyxcbiAgXG4gIC8vIE93bmVyIGNhcGFiaWxpdGllcyAoUGhhc2UgMi4yIGxpbWl0ZWQgc2NvcGUpXG4gIE1BTkFHRV9DTFVCX1NFVFRJTkdTID0gJ21hbmFnZV9jbHViX3NldHRpbmdzJyxcbiAgTUFOQUdFX0FETUlOUyA9ICdtYW5hZ2VfYWRtaW5zJyxcbiAgXG4gIC8vIFJpZGUgY2FwYWJpbGl0aWVzIChQaGFzZSAyLjMpXG4gIFZJRVdfQ0xVQl9SSURFUyA9ICd2aWV3X2NsdWJfcmlkZXMnLFxuICBKT0lOX1JJREVTID0gJ2pvaW5fcmlkZXMnLFxuICBDUkVBVEVfUklERV9QUk9QT1NBTFMgPSAnY3JlYXRlX3JpZGVfcHJvcG9zYWxzJyxcbiAgVklFV19EUkFGVF9SSURFUyA9ICd2aWV3X2RyYWZ0X3JpZGVzJyxcbiAgUFVCTElTSF9PRkZJQ0lBTF9SSURFUyA9ICdwdWJsaXNoX29mZmljaWFsX3JpZGVzJyxcbiAgTUFOQUdFX1JJREVTID0gJ21hbmFnZV9yaWRlcycsXG4gIENBTkNFTF9SSURFUyA9ICdjYW5jZWxfcmlkZXMnLFxuICBNQU5BR0VfUEFSVElDSVBBTlRTID0gJ21hbmFnZV9wYXJ0aWNpcGFudHMnLFxuICBBU1NJR05fTEVBREVSU0hJUCA9ICdhc3NpZ25fbGVhZGVyc2hpcCcsXG4gIFxuICAvLyBSb3V0ZSBmaWxlIGNhcGFiaWxpdGllcyAoUGhhc2UgMi40IE1WUClcbiAgVVBMT0FEX1JPVVRFX0ZJTEVTID0gJ3VwbG9hZF9yb3V0ZV9maWxlcycsXG4gIERPV05MT0FEX1JPVVRFX0ZJTEVTID0gJ2Rvd25sb2FkX3JvdXRlX2ZpbGVzJyxcbiAgTUFOQUdFX0ZJTEVfVkVSU0lPTlMgPSAnbWFuYWdlX2ZpbGVfdmVyc2lvbnMnLFxuICBWSUVXX1JPVVRFX0FOQUxZVElDUyA9ICd2aWV3X3JvdXRlX2FuYWx5dGljcycsXG4gIENSRUFURV9ST1VURV9URU1QTEFURVMgPSAnY3JlYXRlX3JvdXRlX3RlbXBsYXRlcycsXG4gIE1BTkFHRV9DTFVCX1RFTVBMQVRFUyA9ICdtYW5hZ2VfY2x1Yl90ZW1wbGF0ZXMnLFxuICBWSUVXX0NMVUJfVEVNUExBVEVTID0gJ3ZpZXdfY2x1Yl90ZW1wbGF0ZXMnLFxuICBcbiAgLy8gRnV0dXJlIGNhcGFiaWxpdGllcyAob3V0IG9mIHNjb3BlIGZvciBjdXJyZW50IHBoYXNlcylcbiAgLy8gVFJBTlNGRVJfT1dORVJTSElQID0gJ3RyYW5zZmVyX293bmVyc2hpcCcsXG4gIC8vIERFTEVURV9DTFVCID0gJ2RlbGV0ZV9jbHViJyxcbiAgLy8gREVMRVRFX1JPVVRFX0ZJTEVTID0gJ2RlbGV0ZV9yb3V0ZV9maWxlcycsXG4gIC8vIEVYUE9SVF9ST1VURV9EQVRBID0gJ2V4cG9ydF9yb3V0ZV9kYXRhJyxcbiAgLy8gU0hBUkVfUk9VVEVTX0VYVEVSTkFMTFkgPSAnc2hhcmVfcm91dGVzX2V4dGVybmFsbHknLFxuICAvLyBBQ0NFU1NfUFJFTUlVTV9BTkFMWVRJQ1MgPSAnYWNjZXNzX3ByZW1pdW1fYW5hbHl0aWNzJyxcbiAgLy8gQlVMS19ST1VURV9PUEVSQVRJT05TID0gJ2J1bGtfcm91dGVfb3BlcmF0aW9ucycsXG59XG5cbi8qKlxuICogUm9sZS1jYXBhYmlsaXR5IG1hcHBpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFJPTEVfQ0FQQUJJTElUSUVTOiBSZWNvcmQ8Q2x1YlJvbGUsIENsdWJDYXBhYmlsaXR5W10+ID0ge1xuICBbQ2x1YlJvbGUuTUVNQkVSXTogW1xuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9ERVRBSUxTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUFVCTElDX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTEVBVkVfQ0xVQixcbiAgICAvLyBSaWRlIGNhcGFiaWxpdGllcyAoUGhhc2UgMi4zKVxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5KT0lOX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5LkNSRUFURV9SSURFX1BST1BPU0FMUyxcbiAgICAvLyBSb3V0ZSBmaWxlIGNhcGFiaWxpdGllcyAoUGhhc2UgMi40IE1WUClcbiAgICBDbHViQ2FwYWJpbGl0eS5ET1dOTE9BRF9ST1VURV9GSUxFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX1JPVVRFX0FOQUxZVElDUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX0NMVUJfVEVNUExBVEVTLFxuICBdLFxuICBbQ2x1YlJvbGUuQ0FQVEFJTl06IFtcbiAgICAvLyBJbmhlcml0cyBhbGwgbWVtYmVyIGNhcGFiaWxpdGllc1xuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9ERVRBSUxTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUFVCTElDX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTEVBVkVfQ0xVQixcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX0NMVUJfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuSk9JTl9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5DUkVBVEVfUklERV9QUk9QT1NBTFMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuRE9XTkxPQURfUk9VVEVfRklMRVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19ST1VURV9BTkFMWVRJQ1MsXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19DTFVCX1RFTVBMQVRFUyxcbiAgICAvLyBDYXB0YWluLXNwZWNpZmljIHJpZGUgY2FwYWJpbGl0aWVzIChQaGFzZSAyLjMpXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19EUkFGVF9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5QVUJMSVNIX09GRklDSUFMX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5Lk1BTkFHRV9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfUEFSVElDSVBBTlRTLFxuICAgIC8vIFJvdXRlIGZpbGUgY2FwdGFpbiBjYXBhYmlsaXRpZXMgKFBoYXNlIDIuNCBNVlApXG4gICAgQ2x1YkNhcGFiaWxpdHkuVVBMT0FEX1JPVVRFX0ZJTEVTLFxuICAgIENsdWJDYXBhYmlsaXR5LkNSRUFURV9ST1VURV9URU1QTEFURVMsXG4gIF0sXG4gIFtDbHViUm9sZS5BRE1JTl06IFtcbiAgICAvLyBJbmhlcml0cyBhbGwgbWVtYmVyIGNhcGFiaWxpdGllc1xuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9ERVRBSUxTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUFVCTElDX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTEVBVkVfQ0xVQixcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX0NMVUJfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuSk9JTl9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5DUkVBVEVfUklERV9QUk9QT1NBTFMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuRE9XTkxPQURfUk9VVEVfRklMRVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19ST1VURV9BTkFMWVRJQ1MsXG4gICAgLy8gQWRtaW4tc3BlY2lmaWMgY2FwYWJpbGl0aWVzXG4gICAgQ2x1YkNhcGFiaWxpdHkuVklFV19DTFVCX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuSU5WSVRFX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuUkVNT1ZFX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTUFOQUdFX0pPSU5fUkVRVUVTVFMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTUFOQUdFX0NMVUJfQ09OVEVOVCxcbiAgICAvLyBSaWRlIGFkbWluIGNhcGFiaWxpdGllcyAoUGhhc2UgMi4zKVxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfRFJBRlRfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuUFVCTElTSF9PRkZJQ0lBTF9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuQ0FOQ0VMX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5Lk1BTkFHRV9QQVJUSUNJUEFOVFMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuQVNTSUdOX0xFQURFUlNISVAsXG4gICAgLy8gUm91dGUgZmlsZSBhZG1pbiBjYXBhYmlsaXRpZXMgKFBoYXNlIDIuNCBNVlApXG4gICAgQ2x1YkNhcGFiaWxpdHkuVVBMT0FEX1JPVVRFX0ZJTEVTLFxuICAgIENsdWJDYXBhYmlsaXR5Lk1BTkFHRV9GSUxFX1ZFUlNJT05TLFxuICAgIENsdWJDYXBhYmlsaXR5LkNSRUFURV9ST1VURV9URU1QTEFURVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTUFOQUdFX0NMVUJfVEVNUExBVEVTLFxuICBdLFxuICBbQ2x1YlJvbGUuT1dORVJdOiBbXG4gICAgLy8gSW5oZXJpdHMgYWxsIGFkbWluIGNhcGFiaWxpdGllc1xuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9ERVRBSUxTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUFVCTElDX01FTUJFUlMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTEVBVkVfQ0xVQixcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX0NMVUJfTUVNQkVSUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5JTlZJVEVfTUVNQkVSUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5SRU1PVkVfTUVNQkVSUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfSk9JTl9SRVFVRVNUUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfQ0xVQl9DT05URU5ULFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfQ0xVQl9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5KT0lOX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5LkNSRUFURV9SSURFX1BST1BPU0FMUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5WSUVXX0RSQUZUX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5LlBVQkxJU0hfT0ZGSUNJQUxfUklERVMsXG4gICAgQ2x1YkNhcGFiaWxpdHkuTUFOQUdFX1JJREVTLFxuICAgIENsdWJDYXBhYmlsaXR5LkNBTkNFTF9SSURFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfUEFSVElDSVBBTlRTLFxuICAgIENsdWJDYXBhYmlsaXR5LkFTU0lHTl9MRUFERVJTSElQLFxuICAgIENsdWJDYXBhYmlsaXR5LkRPV05MT0FEX1JPVVRFX0ZJTEVTLFxuICAgIENsdWJDYXBhYmlsaXR5LlZJRVdfUk9VVEVfQU5BTFlUSUNTLFxuICAgIENsdWJDYXBhYmlsaXR5LlVQTE9BRF9ST1VURV9GSUxFUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfRklMRV9WRVJTSU9OUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5DUkVBVEVfUk9VVEVfVEVNUExBVEVTLFxuICAgIENsdWJDYXBhYmlsaXR5Lk1BTkFHRV9DTFVCX1RFTVBMQVRFUyxcbiAgICAvLyBPd25lci1zcGVjaWZpYyBjYXBhYmlsaXRpZXNcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfQ0xVQl9TRVRUSU5HUyxcbiAgICBDbHViQ2FwYWJpbGl0eS5NQU5BR0VfQURNSU5TLFxuICBdLFxufTtcblxuLyoqXG4gKiBFbmhhbmNlZCBhdXRob3JpemF0aW9uIGNvbnRleHQgd2l0aCBjbHViIG1lbWJlcnNoaXBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbHViQXV0aENvbnRleHQgZXh0ZW5kcyBBdXRoQ29udGV4dCB7XG4gIGNsdWJNZW1iZXJzaGlwPzoge1xuICAgIG1lbWJlcnNoaXBJZDogc3RyaW5nO1xuICAgIGNsdWJJZDogc3RyaW5nO1xuICAgIHJvbGU6IENsdWJSb2xlO1xuICAgIHN0YXR1czogc3RyaW5nO1xuICAgIGpvaW5lZEF0OiBzdHJpbmc7XG4gIH07XG4gIGNsdWJDYXBhYmlsaXRpZXM6IENsdWJDYXBhYmlsaXR5W107XG59XG5cbi8qKlxuICogQ2x1YiBhdXRob3JpemF0aW9uIGVycm9yIGRldGFpbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbHViQXV0aG9yaXphdGlvbkVycm9yIHtcbiAgY2FwYWJpbGl0eTogQ2x1YkNhcGFiaWxpdHk7XG4gIGNsdWJJZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdXNlclJvbGU/OiBDbHViUm9sZTtcbiAgcmVxdWlyZWRSb2xlczogQ2x1YlJvbGVbXTtcbn1cblxuLyoqXG4gKiBHZXQgY2FwYWJpbGl0aWVzIGZvciBhIGNsdWIgcm9sZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FwYWJpbGl0aWVzRm9yUm9sZShyb2xlOiBDbHViUm9sZSk6IENsdWJDYXBhYmlsaXR5W10ge1xuICByZXR1cm4gUk9MRV9DQVBBQklMSVRJRVNbcm9sZV0gfHwgW107XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgcm9sZSBoYXMgY2FwYWJpbGl0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm9sZUhhc0NhcGFiaWxpdHkocm9sZTogQ2x1YlJvbGUsIGNhcGFiaWxpdHk6IENsdWJDYXBhYmlsaXR5KTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRDYXBhYmlsaXRpZXNGb3JSb2xlKHJvbGUpLmluY2x1ZGVzKGNhcGFiaWxpdHkpO1xufVxuXG4vKipcbiAqIEdldCBtaW5pbXVtIHJvbGUgcmVxdWlyZWQgZm9yIGNhcGFiaWxpdHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1pbmltdW1Sb2xlRm9yQ2FwYWJpbGl0eShjYXBhYmlsaXR5OiBDbHViQ2FwYWJpbGl0eSk6IENsdWJSb2xlIHwgbnVsbCB7XG4gIGZvciAoY29uc3QgW3JvbGUsIGNhcGFiaWxpdGllc10gb2YgT2JqZWN0LmVudHJpZXMoUk9MRV9DQVBBQklMSVRJRVMpKSB7XG4gICAgaWYgKGNhcGFiaWxpdGllcy5pbmNsdWRlcyhjYXBhYmlsaXR5KSkge1xuICAgICAgcmV0dXJuIHJvbGUgYXMgQ2x1YlJvbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBhbGwgcm9sZXMgdGhhdCBoYXZlIGEgY2FwYWJpbGl0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9sZXNXaXRoQ2FwYWJpbGl0eShjYXBhYmlsaXR5OiBDbHViQ2FwYWJpbGl0eSk6IENsdWJSb2xlW10ge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoUk9MRV9DQVBBQklMSVRJRVMpXG4gICAgLmZpbHRlcigoW18sIGNhcGFiaWxpdGllc10pID0+IGNhcGFiaWxpdGllcy5pbmNsdWRlcyhjYXBhYmlsaXR5KSlcbiAgICAubWFwKChbcm9sZSwgX10pID0+IHJvbGUgYXMgQ2x1YlJvbGUpO1xufSJdfQ==